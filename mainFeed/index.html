<!DOCTYPE html>
<html>
    
    <head>
        <!-- A title for the page -->
        <title>Edutix | What's On?</title>
        
        <!-- icon -->
        <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico" />
        
        <!-- link to the stylesheet -->
        <link rel="stylesheet" href="style.css" type="text/css"/>
        
        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!-- responsive -->
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        
        <!--[if IE]>
          <style>
            .alertIcon:hover {
                content:url("bell-icon-active.svg");
            }
            #popupAlertIcon:hover {
                content:url("bell-icon-popup-active.svg");
            }
        </style>
        <![endif]-->
    </head>

    <body>
        
        <div id="fadeContainer">
            
            <!-- help popup -->
            <div id="helpContainer">
            
                <!-- container for vertical aligment -->
                <div id="helpVerticalContainer">
                    
                    <!-- the main help popup -->
                    <div id="mainHelpPopup">
        
                        <!-- title help label -->
                        <h1 id="helpTitle">Welcome to Edutix</h1>

                        <!-- a p giving help -->
                        <p id="helpContent">- To find out more about an event, click on it and a popup will appear giving you more details and a poster <br><br>- If you want to go to an event, press the 'I Will Attend' button so that we know the numbers for an event and can send you reminders to make sure you don't forget about it <br><br>- If you aren't sure whether you want to go to an event but want to receive notifications about it,  simply press the bell icon <br><br>- To see your saved events and more, press the icon on the top right of the screen to bring out the menu <br><br>- To see this message again, simply press 'Help' at the bottom of the menu</p>
                        
                        <!-- popup bototm section -->
                        <div id="helpBottomSection">
                            
                            <!-- done button -->
                            <button id="helpClose">Done!</button>
                        
                        </div>
                        
                    </div>
                
                </div>
                
            </div>
            
            <!-- the popup div  !OVERFLOW FOR BODY NEEDS TO BE HIDDEN WHILE POPUP IS ACTIVE-->
            <div id="popupContainer">

                <!-- container needed for vertical alignment -->
                <div class="verticalAlignmentContainer">

                    <!-- the popup itself -->
                    <div id="popupMain">

                        <!-- top section of the popup -->
                        <div id="popupTopSection">

                            <!-- place in the bell icon for reminders -->
                            <div id="popupBellIconContainer">
                                <img src="bell-icon-popup-inactive.svg" id="popupAlertIcon">
                            </div>

                            <!-- place in the title -->
                            <div id="popupTitleContainer">
                                <p id="popupEventTitle">Event title</p>
                            </div>

                            <!-- the X icon -->
                            <div id="popupQuitIconContainer">
                                <?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg id="popupQuitIcon" width="100%" height="100%" viewBox="0 0 71 71" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:1.5;"><g><path d="M13.573,0l-13.573,13.559l57.247,57.307l13.573,-13.558l-57.247,-57.308Z" style="stroke:#000;stroke-width:0.23px;"/><path d="M57.247,0l13.573,13.559l-57.247,57.307l-13.573,-13.558l57.247,-57.308Z" style="stroke:#000;stroke-width:0.23px;"/></g></svg>
                            </div>
                        </div>
                        
                        <!-- middle section of the popup -->
                        <div id="popupMiddleSection">
                            
                            <!-- a container for horizontal aligment -->
                            <div id="popupMiddleAligment">
                            
                                <!-- a paragraph for the description -->
                                <div id="popupDescriptionContainer">
                                    <p id="popupDescriptionLabel">
                                        - Drones that deliver your orders, computers that talk to you, and other crazy ideas.  A rare peek behind the curtain at Amazon's R&D and a discussion on the emerging technologies that will shape our world<br><br>- From Amazon's Advanced Products and Technologies division, Joshua Edwards leads the team responsible for incubating early-stage product concepts and emerging technologies.  Before Amazon, Mr Edwards worked on Xbox and at Microsoft Research. <br><br>- Formal Change/ All Blocks Welcome<br><br>- Drones that deliver your orders, computers that talk to you, and other crazy ideas.  A rare peek behind the curtain at Amazon's R&D and a discussion on the emerging technologies that will shape our world<br><br>- From Amazon's Advanced Products and Technologies division, Joshua Edwards leads the team responsible for incubating early-stage product concepts and emerging technologies.  Before Amazon, Mr Edwards worked on Xbox and at Microsoft Research. <br><br>- Formal Change/ All Blocks Welcome<br><br>- Drones that deliver your orders, computers that talk to you, and other crazy ideas.  A rare peek behind the curtain at Amazon's R&D and a discussion on the emerging technologies that will shape our world<br><br>- From Amazon's Advanced Products and Technologies division, Joshua Edwards leads the team responsible for incubating early-stage product concepts and emerging technologies.  Before Amazon, Mr Edwards worked on Xbox and at Microsoft Research. <br><br>- Formal Change/ All Blocks Welcome
                                    </p>
                                </div>
                                
                                <!-- the poster -->
                                <div id="posterContainer">
                                    <a href="event-poster.png" target="_blank"><img src="event-poster.png" id="poster"></a>
                                </div>
                            
                            </div>
                        
                        </div>
                        
                        <!-- bottom section of the popup -->
                        <div id="popupBottomSection">
                            
                            <!-- container for the info line -->
                            <div id="popupInfoLineContainer">
                        
                                <!-- a container for the event host label -->
                                <div id="popupEventHostContainer">
                                    <span id="popupEventHostLabel"><i>By: Computer Science Society</i></span>
                                </div>
                            
                                <!-- a container for the location info -->
                                <div id="popupLocationInfoContainer">
                                    <img id="popupLocationIcon" src="location-marker.svg">
                                    <span id="popupLocationLabel">Location - 20:00</span>

                                </div>
                            
                            </div>
                            
                            <!-- button to attend -->
                            <div id="popupAttendButtonContainer">
                                <button id="popupAttendButton">I Will Attend</button>
                            </div>
                        
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    
        <!-- the top bar on the page -->
        <div id="topBar">
            
            <!-- hamburger icon for the menu-->
            <?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg id="hamburgerIcon" width="100%" height="100%" viewBox="0 0 596 596" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g><rect x="0" y="0" width="595.276" height="75.874"/><rect x="0" y="259.701" width="595.276" height="75.874"/><rect x="0" y="519.401" width="595.276" height="75.874"/></g></svg>
            
            <!-- back arrow for the menu -->
            <?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg id="backArrow" width="100%" height="100%" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M10.57,13.437l0,1.923l-10.57,-3.36l10.57,-3.36l0,1.923l13.43,0l0,2.874l-13.43,0Z"/></svg>
        
            <!-- title for the page -->
            <h1 id="topBarTitle">What's On?</h1>
        
        </div>
    
        <!-- a container div for the menu -->
        <div id="menuContainer" -->
            
            <!-- menu that comes out of the side page -->
            <div id="menu">

                <!-- a list of all the options -->

                <hr class="menuHR">
                <a href="../createNewEvent" class="menuLink"><p class="menuItem">Create New Event</p></a>
                <hr class="menuHR">

                <a href="#" class="menuLink"><p class="menuItem">My Saved Events</p></a>
                <hr class="menuHR">

                <a href="#" class="menuLink"><p class="menuItem">My Hosted Events</p></a>
                <hr class="menuHR">

                <a href="#" class="menuLink"><p class="menuItem">Logout</p></a>
                <hr class="menuHR">
                
                <a class="menuLink" id="helpButton"><p class="menuItem">Help</p></a>
                <hr class="menuHR">

            </div>
        </div>
        
        <!-- whitespace between the menu and rest of content -->
        <div id="whiteSpace"></div>
        
        <!-- a date banner -->
        <div class="dateBanner">
            
            <!-- p for the date -->
            <p class="dateBannerText">Date goes here</p>
        
        </div>
        
        <!-- an event -->
        <div class="eventContainer">
            
            <!-- a container for the elements as they are not 100% width -->
            <div class="eventElementsContainer">
                
                <!-- title and bookmark container -->
                <div class="topLineContainer">
                    
                    <!-- main title for the event -->
                    <div class="titleContainer">
                        <span class="eventTitle">Event Title</span>
                    </div>    

                    <!-- alert icon -->
                    <div class="alertIconContainer">
                        <img class="alertIcon" src="bell-icon-inactive.svg"/>
                    </div>
                </div>
                
                <!-- host label -->
                <p class="eventHost"><i>By: Event host</i></p>

                <!-- a p for the location marker and label -->
                <p class="locationLabel">

                    <!-- location marker -->
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="locationMarkerIcon" width="100%" height="100%" viewBox="0 0 596 596" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><g><path d="M310.49,567.486l15.085,-289.325l-278.957,-78.228l532.16,-103.551l-268.288,471.104Z" style="fill:#96c8a2;"/><path d="M280.37,537.365l15.085,-289.325l-278.957,-78.227l532.16,-103.552l-268.288,471.104Z"/></g></svg>
                    <span class="locationLabelInfo">Location - 20:00</span>
                </p>

                <!-- I will attend button -->
                <button class="attendButton">I Will Attend</button>
                
            </div>
            
            <!-- a line at the bottom -->
            <hr class="eventHR">
        </div>
        
        <!-- script -->
        <script type="text/javascript" class="script">
            
            // popup resize 
            function resizePopup() {
                // check if popup is visible
                if ($("#popupContainer").css("display") == "none") {
                    
                    // check if help is visible 
                    if ($("#helpContainer").css("display") == "none") {
                        return
                    }
                    else {

                        // get height of popup 
                        var height = parseInt($("#mainHelpPopup").css("height"));

                        // make text box 80%;
                        $("#helpContent").css("height", height * 0.7);

                        console.log(height);
                    }
                    
                }

                // get the width of popup
                var width = parseInt($("#popupMiddleSection").css("width"));
                
                // get size of topbar 
                var topBarSize = parseInt($("#popupTopSection").css("height"));

                // get size of bottom bar 
                var bottomBarSize = parseInt($("#popupBottomSection").css("height"));
                
                // get size of popup 
                var popupTotalSize = parseInt($("#popupMain").css("height"));

                // calc size of middle
                var middleArea = popupTotalSize - (topBarSize + bottomBarSize + 20);
                
                // check if poster is going to be too wide 
                if (middleArea > (width * 0.5)) {
                    var posterHeight = width * 0.5;
                }
                else {
                    var posterHeight = middleArea;
                }
                
                // resize middle 
                $("#popupMiddleSection").css("height", middleArea);
                $("#popupMiddleAligment").css("height", middleArea);
                $("#poster").css("height", posterHeight);
                $("#popupDescriptionLabel").css("height", middleArea);
            }
            
            window.onload = resizePopup();
            window.onresize = resizePopup;
            
            // reisize popup on orientation change
            window.addEventListener("orientationchange", function() {
                resizePopup().delay(400);
            }, false);
            
        
            // executed when the menu button is pressed 
            $("#hamburgerIcon").on("click", function() {

                // show the menubar 
                $("#menu").stop().animate({
                    left: "250px"
                }, 400);
                
                //slide icon out
                $("#hamburgerIcon").stop().animate({
                    left: "-40px"
                }, 400);
                
                // slide arrow in 
                $("#backArrow").stop().animate({
                    left: "0px"
                }, 400);
                
                $("hamburgerIcon").attr("src", "back-arrow");
                
//              when the mouse is removed from the menubar it dissapears 
                $("#menu").mouseleave(function() {
                   
                    // hide the menubar
                    $("#menu").stop().animate({
                        left: "-250px"
                    },400);
                    
                    // slide icon in
                    $("#hamburgerIcon").stop().animate({
                        left: "0px"
                    }, 400);
                    
                    // slide arrow out 
                    $("#backArrow").stop().animate({
                        left: "-40px"
                    }, 400);
                                    
                });
                
                // when back arrow pressed, menu dissapers
                $("#backArrow").on("click", function() {
                   
                    // hide the menubar
                    $("#menu").stop().animate({
                        left: "-250px"
                    },400);
                    
                    // slide icon in
                    $("#hamburgerIcon").stop().animate({
                        left: "0px"
                    }, 400);
                    
                    // slide arrow out 
                    $("#backArrow").stop().animate({
                        left: "-40px"
                    }, 400);
                                    
                });
                
            });
            
            // executed when an event is pressed
            $(".eventContainer").on("click", function(e) {
                
                // check alert or attending button not pressed
                if ($(e.target).is(".attendButton") || $(e.target).is(".alertIcon")) return; 
                
                // hide alert icon as it messes things up 
                $(".alertIcon").fadeTo(0, 0.1);
                
                // change z index of topbar 
                $("#topBar").css("z-index", -1);
                
                // trigger the popup
                $("#popupContainer").css("display", "table");
                $("#fadeContainer").fadeIn(400);
                resizePopup();
            });
            
            // executed when cross is pressed 
            $("#popupQuitIconContainer").on("click", function(e) {
               
                // hide the popup 
                $(".alertIcon").fadeTo(0, 1);
                $("#popupContainer").css("display", "none").delay(400);
                
                // change z index of topbar 
                $("#topBar").css("z-index", 10);
                
                // show alert Icon
                $(".alertIcon").fadeIn(400);
                
            });
            
            // executed when fade container is pressed 
            $("#popupContainer").on("click", function(e) {

                // check fade container was pressed (not event block)
                if ($(e.target).is(".verticalAlignmentContainer")) {
                    // hide the popup 
                    $("#fadeContainer").fadeOut(400);
                    $("#popupContainer").css("display", "none").delay(400);
                    
                    // show alert Icon
                    $(".alertIcon").fadeTo(0, 1);
                    
                    // change z index of topbar 
                    $("#topBar").css("z-index", 10);

                }

            });
            
            // executed when help button is pressed 
            $("#helpButton").on("click", function() {
                
                // hide menu
                $("#menu").stop().animate({
                    left: "-250px"
                },400);

                // slide icon in
                $("#hamburgerIcon").stop().animate({
                    left: "0px"
                }, 400);

                // slide arrow out 
                $("#backArrow").stop().animate({
                    left: "-40px"
                }, 400);
               
                // hide alert icon as it messes things up 
                $(".alertIcon").fadeTo(0, 0.1);
                
                // change z index of topbar 
                $("#topBar").css("z-index", -1);
                
                // trigger the popup
                $("#helpContainer").css("display", "table");
                $("#fadeContainer").fadeIn(400);
                resizePopup();
                
                
            });
            
            // executed when help popup close button pressed 
            $("#helpClose").on("click", function() {
             
                // hide the popup 
                $("#fadeContainer").fadeOut(400);
                $("#helpContainer").css("display", "none").delay(400);

                // show alert Icon
                $(".alertIcon").fadeTo(0, 1);

                // change z index of topbar 
                $("#topBar").css("z-index", 10);
                
            });
            
            // remove JS
            $(".script").innerHTML = "";
            
        </script>
    </body>
</html>